<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" manifest="site.appcache">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="HandheldFriendly" content="true"/>
    <meta name="MobileOptimized" content="width"/>
    <meta http-equiv="X-Frame-Options" content="deny" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/offsite.css"/>
    <script src="javascripts/offsite.js" type="text/javascript"></script>
    <title>Treasure Hunt</title>
</head>

<body ng-app ng-controller="GameController" ng-init="init()">
    <!-- HEADER -->    
    <!--<input type="button" onclick="localStorage.clear()" value="Clear" />-->
    <div id="header_content_wrap" class="header_wrap">
        <div>            
            <div class="banner">Treasure Hunt</div>
            <span src="stylesheets/back_button1.png" class="banner_msg btn" 
                ng-show="showBackButton==true || currentpage==2 || currentpage==0" 
                ng-click="currentpage=1;showBackButton=false" id="Img1" alt="<<BACK" >&lt;&lt;Back</span>
        </div>
    </div>

    <div id="main_content_wrap" class="main_content ">
        <div id="content_container">
            <div id="prestart_content">
                <div style="font-size:12px;padding:3px;">Welcome to Treasure Hunt 2013.
                    <br /> <br />
                    <div style="text-align:left" ng-hide="prepage1">
                        <table>
                            <tr><td><b>Venue</b>:</td><td>Westin</td></tr>
                            <tr><td><b>Time</b>:</td><td>3.00 pm onwards</td></tr>
                            <tr><td><b>Transportation</b>:</td><td>Bus leaves office at 2.00 pm, or reach venue by your own means by 3pm.</td></tr>
                            <tr><td></td><td></td></tr>                            
                        </table>
                        <br />
                        <span style="float:right" ng-click="prepage1=2">Rules &gt;&gt;</span>
                        <br />
                    </div>

                    <div style="text-align:left" ng-show="prepage1">
                        Rules of the Game - <br />
                        * Select among the 6 categories. <br />
                        * Select the clues given in each category. <br />
                        * Each player gets to attempt one clue at a time <br />
                        * Play with your team to solve the maximum number of clues. <br />
                        * Solve the anagram and the Treasure is yours <br />

                        <br />
                        Milestones: <br />
                        * First 10 clues solved by the team. <br />
                        * All clues of any one category solved by the team. <br />
                        * Solve all clues and get the anagram. <br />

                        <br />
                        Clue: <br />
                        * The more the number of devices in a team, more are the chances to win.                    
                        <br />
                        <span style="float:right" ng-click="prepage1=null">&lt;&lt; Back</span>
                        <br />
                    </div>
                </div>
                <div>Your hunt starts in </div>
                <div id="countdown_wrap" class="countdown"></div>
            </div>

            <div id="poststart_content" style="display: none; width: 100%; margin-top: 20px; position: absolute;">
                <div style="text-align: center" id="welcome_wrap">
                    <form>
                        <div>
                            <input id="password1" ng-model="passCode" type="password" placeholder="Type passcode here." />
                        </div>
                        <br />
                        <input type="submit" value="Let the fun begin..." 
                            ng-click="decryptGame(passCode)" id="loginBtn" class="btn"/>
                    </form>
                </div>

                <div style="width: 100%; display: none; text-align: center" id="clue_content_detail">
                    <div id="maincontent">
                        <div id="categoryOpt" ng-show="currentpage==1">
                            <div ng-repeat="(k,v) in pagetext.clueOptions"
                                class="categoryDiv btn {{getSelectedClassName(k)}}"
                                ng-click="CategoryClick(k); ">
                                {{k}}
                            </div>

                        </div>

                        <div id="gameOpt" ng-show="currentpage==2">
                            {{pagetext.selectedCategory}}
                           <div ng-repeat="(k,v) in pagetext.clueOptions[pagetext.selectedCategory]" class="categoryDiv btn {{getSelectedClassName(pagetext.selectedCategory,k)}}"
                                ng-click="OnQuesSelected(pagetext.selectedCategory, k)">
                                {{k}}
                            </div>
                        </div>

                        <div ng-show="currentpage==3">
                            <span style="text-align:left">
                            {{pagetext.selectedCategory}} <br />
                            Clue No: {{pagetext.selectedOption}}
                            </span>
                            <div id="answer_clue_wrap" style="font-size:15px;" >
                                <div id="clue_wrap" style="text-align:left;padding:4px;" ng-bind-html-unsafe="pagetext.clueOptions[pagetext.selectedCategory][pagetext.selectedOption].clue">
                                </div>
                                <div id="ansTyped">
                                    <form>                                    
                                    <input type="text" ng-model="pagetext.currentAnswer" />
                                        <input type="submit" value="Validate" id="validateAns"
                                            ng-click="validateAnswer(pagetext.currentAnswer)" />
                                        
                                        <input type="submit" value="Back" id="back" ng-click="goback()" />

                                    </form>
                                </div>
                            </div>
                        </div>

                        <div ng-show="pagetext.nextClue && currentpage==3" id="successmsg" >
                            {{pagetext.submitMessage}}                            
                        </div>
                    </div>

                    <br />
                    
                    <div id="answersheader" ng-show="currentpage==1 || currentpage==0"
                        ng-click="showresults();" class="btn answerdiv" >
                        My Achievements:
                    </div>                    

                    <div id="answers" ng-show="currentpage==0" class="answerdiv" >                                               
                        <div ng-show="pagetext.clueOptionsAnswered">                            
                            <div ng-repeat="(category, options) in pagetext.clueOptionsAnswered" class="ansCategory" >
                                {{category}}:
                            	<div ng-repeat="opt in parseJSON(options)" class="ansdetail" >
                                    {{opt.selectedOption}} - {{opt.answer}}
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>

<!--    <div>
        Passcode: <input type="text" value="" id="_passCode" style="width:400px" /> <br />
        ClearText: <input type="text" value="" id="_clearText" style="width:400px" /> <br />
        EnrypteTet: <input type="text" value="" id="_encText" style="width:400px" /> <br />
        <input type="button" value="Encrypt" onclick="$('#_encText').val(Tea.encrypt($('#_clearText').val(), $('#_passCode').val()))" /> <br />
    </div>-->


    <script>

        function StartCountDown() {
            var target_date = new Date().getTime() + 10000;
            var refreshIntervalId = setInterval(function () {

                var days = 0, hours = 0, minutes = 0, seconds = 0;
                var current_date = new Date().getTime();
                var seconds_left = (target_date - current_date) / 1000;
                days = parseInt(seconds_left / 86400);
                seconds_left = seconds_left % 86400;

                hours = parseInt(seconds_left / 3600);
                seconds_left = seconds_left % 3600;

                minutes = parseInt(seconds_left / 60);
                seconds = parseInt(seconds_left % 60);

                if (seconds <= 0 && hours <= 0 && minutes <= 0 && days <= 0) {
                    $('#prestart_content').fadeOut(150);
                    $('#poststart_content').fadeIn(1000);
                    clearInterval(refreshIntervalId);
                }

                $('#countdown_wrap').text(days + "d: " + hours + "h: " + minutes + "m: " + seconds + "s");

            }, 1000);

        }

        function GameController($scope) {
            $scope.goback = function () {
                $scope.currentpage = 2;
            }


            $scope.passCode = null;
            //category -1 ,ques-opt -2 , original ques -3
            $scope.currentpage = 1;
            $scope.data = "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";
            $scope.showBackButton = false;
            $scope.pagetext = null;

            $scope.getSelectedClassName = function (category, option) {
                if ($scope.pagetext.clueOptionsAnswered && $scope.pagetext.clueOptionsAnswered[category]) {
                    if (category && option) {
                        if ($scope.pagetext.clueOptionsAnswered[category][option]) {
                            return "clueselected";
                        }
                    }
                    else if (category && $scope.pagetext.clueOptionsAnswered[category]) {
                        if (Object.keys($scope.pagetext.clueOptionsAnswered[category]).length == Object.keys($scope.pagetext.clueOptions[category]).length) {
                            return "clueselected";
                        }
                        else {
                            return "clueattempted";
                        }
                    }
                }
                return "";
            }

            $scope.CategoryClick = function (k) {

                $scope.pagetext.selectedCategory = k;
                $scope.currentpage = 2;
                $("#gameOpt").fadeIn(2000);
                $("#backbtn").fadeIn(2000);
            }

            $scope.showresults = function () {

                if ($scope.currentpage === 0) {
                    $scope.currentpage = 1;
                    $('#categoryOpt').fadeIn();

                } else {
                    $scope.currentpage = 0;
                    $('#answers').fadeIn(1000);

                }

            }

            $scope.pagetext = {
                clueOptions: null,
                selectedCategory: null,
                selectedOption: null,
                clueOptionsAnswered: {},
                successMessage: "Congratulations! Your answer is correct. Please select your next clue.",
                errorMessage: "Sorry! Your answer is incorrect. Please try again.",
                nextClue: false,
                currentAnswer: null,
                submitMessage: null

            };

            $scope.parseJSON = function (jsonString) {
                return jsonString;
            }

            $scope.init = function () {
                StartCountDown();
                var passCode = Util.getFromLocalStorage("STORE-passCode");
                if (passCode != null) {
                    $scope.decryptGame(passCode);
                }

                if ($scope.pagetext.clueOptions) {
                    $scope.pagetext.selectedCategory = Util.getFromLocalStorage("STORE-selectedCategoryClueNo");
                    $scope.pagetext.selectedOption = Util.getFromLocalStorage("STORE-selectedOptionClueNo");
                    $scope.pagetext.clueOptionsAnswered = Util.getFromLocalStorage("STORE-clueOptionsAnswered");

                    if ($scope.pagetext.selectedCategory) {
                        $scope.CategoryClick($scope.pagetext.selectedCategory);
                    }

                    if ($scope.pagetext.selectedOption) {
                        $scope.OnQuesSelected($scope.pagetext.selectedCategory, $scope.pagetext.selectedOption);
                    }
                }

                if ($scope.pagetext && !$scope.pagetext.clueOptionsAnswered) {
                    $scope.pagetext.clueOptionsAnswered = {};
                }
            }


            //$scope.resetForNextClue = function (category, option) {
            //    $scope.pagetext.currentAnswer = null;
            //    $scope.pagetext.nextClue = false;
            //    //Util.setToLocalStorage("STORE-selectedOptionClueNo", $scope.pagetext.selectedOption);
            //    Util.setToLocalStorage("STORE-selectedCategoryClueNo", category);
            //    Util.setToLocalStorage("STORE-selectedOptionClueNo", option);
            //}

            $scope.OnQuesSelected = function (category, option) {

                $scope.currentpage = 3;
                $scope.pagetext.currentAnswer = null;
                $scope.pagetext.nextClue = false;
                //Util.setToLocalStorage("STORE-selectedOptionClueNo", $scope.pagetext.selectedOption);

                $scope.pagetext.selectedOption = option;

                Util.setToLocalStorage("STORE-selectedCategoryClueNo", category);
                Util.setToLocalStorage("STORE-selectedOptionClueNo", option);
                $("#answer_clue_wrap").fadeIn(2000);

            }

            $scope.validateAnswer = function (answer) {

                var selectedClue = $scope.pagetext.clueOptions[$scope.pagetext.selectedCategory][$scope.pagetext.selectedOption];

                var deAnswer = Tea.decrypt(selectedClue.answer, answer.toLowerCase());

                if (selectedClue.clue == deAnswer) {


                    if (!$scope.pagetext.clueOptionsAnswered[$scope.pagetext.selectedCategory]) {

                        $scope.pagetext.clueOptionsAnswered[$scope.pagetext.selectedCategory] = {};

                    }

                    $scope.pagetext.clueOptionsAnswered[$scope.pagetext.selectedCategory][$scope.pagetext.selectedOption] = { answer: answer, selectedOption: $scope.pagetext.selectedOption };

                    //$scope.pagetext.selectedOption = null;
                    $scope.pagetext.submitMessage = $scope.pagetext.successMessage;

                    Util.setToLocalStorage("STORE-clueOptionsAnswered", $scope.pagetext.clueOptionsAnswered);
                    //Util.setToLocalStorage("STORE-selectedCategoryClueNo", $scope.pagetext.selectedCategory);
                    //Util.setToLocalStorage("STORE-selectedOptionClueNo", $scope.pagetext.selectedOption);
                    Util.setToLocalStorage("STORE-selectedCategoryClueNo", null);
                    Util.setToLocalStorage("STORE-selectedOptionClueNo", null);
                    //$scope.showBackButton = true;

                    $scope.currentpage = 2;
                    $('#successmsg').fadeIn(1000).fadeOut(2000);
                }
                else {

                    $scope.pagetext.submitMessage = $scope.pagetext.errorMessage;

                }
                $scope.pagetext.nextClue = true;

            }

            $scope.decryptGame = function (passCode) {

                var gameJSON = null;

                if ($scope.data) {

                    try {

                        gameJSON = eval("(" + Tea.decrypt($scope.data, passCode) + ")");

                    }
                    catch (e) {

                        alert("Invalid Hunt Code! Please try again.");
                        return;

                    }
                    $scope.pagetext.clueOptions = gameJSON;

                }

                Util.setToLocalStorage("STORE-passCode", passCode);

                $("#welcome_wrap").slideUp(3000);
                $("#clue_content_detail").fadeIn(3000);

            }

        }


        var Util = new function () {

            this.setToLocalStorage = function (key, item) {

                localStorage.setItem(key, JSON.stringify(item));

            }

            this.getFromLocalStorage = function (key) {

                return JSON.parse(localStorage.getItem(key));

            }

        }

        var password = $('#password'),
            text = $('#text'),
            enc = $('#encrypt')
            , encrypt = function () {

                enc.val(Tea.encrypt(text.val(), password.val()))

            }, decrypt = function () {

                text.val(Tea.decrypt(enc.val(), password.val()))

            };
        $('#text-label').click(decrypt)
        $('#encrypt-label').click(encrypt)
        text.on('blur', encrypt)
        enc.on('blur', decrypt);
    </script>

</body>
</html>
